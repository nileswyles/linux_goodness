#!/bin/bash

BACKUP_DIR=$1
BACKUP_FILE=`date -I'minutes'`.tar.gz
CMD='tar czvf '$BACKUP_DIR'/'$BACKUP_FILE' -C / --exclude-ignore-recursive=/proc --exclude-ignore-recursive=/sys --exclude-ignore-recursive=/dev --exclude-ignore-recursive=/media --exclude-ignore-recursive=/mnt --exclude-ignore-recursive=/tmp --exclude-ignore-recursive=/var/cache --exclude-ignore-recursive='$BACKUP_DIR'} --exclude-backups --exclude-vcs --exclude-caches .'

echo '-------------'
echo 'PERFORMING BACKUP...'
echo $CMD
echo '-------------'
echo ''

exec $CMD
